![Status - Active](https://img.shields.io/static/v1?label=Status&message=Active&color=3FFF3A&style=for-the-badge)

# vehicle-information-service-specification-reference-implementation (VISSR)

[![License](https://img.shields.io/badge/License-MPL%202.0-blue.svg)](https://opensource.org/licenses/MPL-2.0)

### Maintainers

Ulf Bj√∂rkengren - Ford Motor Company

Peter Winzell - Volvo Cars

# COVESA VISS Reference Implementation - VISSR 
This project provides a reference implementation of the released [COVESA VISSv2.0 specification](https://github.com/COVESA/vehicle-information-service-specification/releases/tag/v2.0) on the v2.0 branch,
and an ongoing development of a reference implementation of the [VISSv3.0 specification](https://github.com/COVESA/vehicle-information-service-specification) on the master branch.

# Tutorial
A tutorial can be found <a href="https://covesa.github.io/vissr/">here</a>.

## VISSv3.0 new features
* Multiple tree support. The server can be configured to manage multiple trees that a client can access.
* Server capabilities. A Server tree can be accessed by clients.
* File transfer. Upload/download of files is available on Websocket.
* Data compression. Request local path compression and Request relative timestamp compression is available on Websocket.
* Protobuf encoding is available on Websocket.
* gRPC support. This wa already available on an experimental level in VISSR @v2.0.
* JSON scheme used to validate client requests.
* Support for the VSS struct datatype.
* Error responses due to JSON scheme errors contain a description generated by the JSON scheme validator.

### Non-backwards compatible changes from VISSv2.0
* The filter keyname "type" is changed to "variant".
* The filter variants "static-metadata" and "dynamic-metadata" are replaced by the variant "metadata".
* The "subscriptionId" parameter in unsubscribe response messages is deleted.
* The error object keyword "message" is changed to "description".
* The error:decription values are not normative any more.

## VISSv2.0 features
* HTTP/Websocket/MQTT(incl app-level protocol on top).
* Get/Set/Subscribe/Unsubscribe methods (Subscribe/Unsubscribe not available over HTTP).
* Filters supported are Timebased/Change/Range/Curvelog/Paths/Metadata (History currently inactivated).
* Access control including RBAC support and policy document usage as per specification.
* Consent support. The server may connect to an External Consent Framework and together realize consent functionality.

### Non-spec features
* Unix domain sockets is supported. Payload formats are identical to Websocket format. Socket file name is /var/tmp/vissv2/udsMgr.sock.
* HTTP, Websocket, and gRPC can be configured to run with/without TLS.
* gRCP is supported also by the v2.0 server implementation (not in v2.0 spec).
* SwCs such as feeder and datastore are available to realize a complete tech stack from client to the vehicle "native" domain.
* Tool for realizing a data mapping between the "VSS domain" and the vehicle "native" domain (e.g. between VSS and CAN data).

## Quick start
Two shell scripts are available for a quick start of trying out the VISSR tech stack.
System dependencies such as having a Go build system installed must first be fulfilled.
* runtest.sh: This script builds and runs the server and the feederv3 simulating some signals,
then it runs the testclient and displays its request messages and the associated response messages.
* runstack.sh: This script builds and runs the server and the feederv3 simulating some signals,
enabling any client implementation to connect to the server.

See the tutorial for more information.

## Contributors
VISSR is an open standard and we invite anybody to contribute. Currently VISSR contains - among others - significant  contributions from

 - [Volvo Cars](https://www.volvocars.com/)
 - [Geotab Inc](https://www.geotab.com/about/)
 - [Ford Motor Company](https://www.ford.com/)
 - [Mitsubishi Electric](https://www.mitsubishielectric.com/en/)
